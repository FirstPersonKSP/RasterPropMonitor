@INTERNAL:FINAL
{
	MODULE
	{
		name = PropBatcher
	}
}

PROP_BATCH
{
	FILTER
	{
		propName = PanelDivider
		transformName = PanelDivider
		keepProp = false
	}
}

PROP_BATCH
{
	FILTER
	{
		propName = Primitive_BOX_Black
		transformName = Primitive_BOX
		keepProp = false
	}

	FILTER
	{
		propName = Primitive_BOX_Beveled_Black
		transformName = Primitive_BOX_Beveled
		keepProp = false
	}

	FILTER
	{
		propName = Primitive_TRIANGLE_Beveled_Black
		transformName = Primitive_TRIANGLE_Beveled
		keepProp = false
	}

	FILTER
	{
		propName = Primitive_TRIANGLE_Black_90_Bev
		transformName = Primitive_TRIANGLE_90_Beveled
		keepProp = false
	}

	FILTER
	{
		propName = Primitive_TRIANGLE_Black_90
		transformName = Primitive_TRIANGLE_90
		keepProp = false
	}

	FILTER
	{
		propName = Primitive_TRIANGLE_Black
		transformName = Primitive_TRIANGLE
		keepProp = false
	}
}

PROP_BATCH
{
	FILTER
	{
		modelPath = ASET/ASET_Props/Instruments/TabloIndicator/TabloIndicator
		transformName = TabloBodyObj
	}
}

PROP_BATCH
{
	FILTER
	{
		// TODO: some of these, e.g. pb_MJ_AP_OFF-F03R-G1, remap a texture...probably don't want to batch those
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Full_Cap_White
		transformName = pPlane3
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Full_Cap
		transformName = pPlane3
	}
}

PROP_BATCH
{
	FILTER
	{
		modelName = SmallLablePlate
		transformName = SmallLablePlate
	}
}

PROP_BATCH
{
	FILTER
	{
		propName = VelcroPad
		transformName = pCube1
		keepProp = false
	}
}

PROP_BATCH
{
	FILTER
	{
		propName = VelcroPad_White
		transformName = pCube1
		keepProp = false
	}
}

PROP_BATCH
{
	FILTER
	{
		modelName = DigitalIndicatorGO
		transformName = DigitalIndicator
	}
}

// these all use Switch_TUMBLEDiffuse
PROP_BATCH
{
	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Guard01
		transformName = pPlane2
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase
		transformName = tumblerBaseRED
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglGuard_Type_1
		transformName = Plate
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglGuard_Type_1H
		transformName = Plate8
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglGuard_Type_2
		transformName = Plate1
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglGuard_Type_3
		transformName = pCylinder4
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglGuard_Type_4
		transformName = Plate7
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglGuard_Type_4H
		transformName = Plate9
	}

	// stuff from Switch_Tumble directory
	FILTER
	{
		modelName = tumblerBaseRED
		transformName = tumblerBaseRED
	}
}

PROP_BATCH
{
	FILTER
	{
		modelName = IndicatorADV
		transformName = Indicator_Body
	}
}

PROP_BATCH
{
	FILTER
	{
		modelName = Indicator_Adv_Circular
		transformName = CircularIndBody
	}
}

// all backlight geometry
PROP_BATCH:NEEDS[!AvionicsSystems]
{
	// Push_Button_Modular

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Bcklt_1
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Bcklt_2
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Bcklt_3
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Bcklt_4
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Bcklt_5
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Push_Button_Modular/models/pb_Bcklt_6
		transformName = GlowBorder
	}

	// Switch_Toggle_Modular

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_0
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_1
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_2
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_3
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_4
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_11
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_12
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_13
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_14
		transformName = GlowBorder
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/Switch_Toggle_Modular/models/TgglBase_Bcklt_15
		transformName = GlowBorder
	}

	// SwitchRotary

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_Model
		transformName = swRotaryCircleObj
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_2_Marks
		transformName = swRotaryCircleMarkObj
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_3_Marks
		transformName = swRotaryCircleMarkObj
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_4_Marks
		transformName = swRotaryCircleMarkObj
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_5_Marks
		transformName = swRotaryCircleMarkObj
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_6_Marks
		transformName = swRotaryCircleMarkObj
	}

	FILTER
	{
		modelPath = ASET/ASET_Props/Control/SwitchRotary/model/Switch_Rotary_Dimmer_Mark
		transformName = swRotaryCircleMarkObj
	}
}

@PROP:HAS[@MODULE[PhysicalProp]&@MODULE[JSILabel]]
{
	@MODULE[JSILabel],*
	{
		canBatch = false
	}
}

@PROP:HAS[@MODULE[JSILabel]:HAS[#transformName[Legend_Center]]]
{
	@MODULE[JSILabel]:HAS[#transformName[Legend_Center]]
	{
		canBatch = false
	}
}
@PROP:HAS[@MODULE[JSILabel]:HAS[#transformName[Legend_Upper]]]
{
	@MODULE[JSILabel]:HAS[#transformName[Legend_Upper]]
	{
		canBatch = false
	}
}
@PROP:HAS[@MODULE[JSILabel]:HAS[#transformName[Legend_Lower]]]
{
	@MODULE[JSILabel]:HAS[#transformName[Legend_Lower]]
	{
		canBatch = false
	}
}

@PROP:HAS[@MODULE[JSILabel]:HAS[#variableName[CUSTOM_ALCOR_BACKLIGHT_ON]&~canBatch]]:NEEDS[!AvionicsSystems]
{
	@MODULE[JSILabel]:HAS[#variableName[CUSTOM_ALCOR_BACKLIGHT_ON]&~canBatch]
	{
		canBatch = true
	}
}

@PROP:HAS[@MODULE[JSILabel]:HAS[~variableName&~canBatch]]
{
	@MODULE[JSILabel]:HAS[~variableName&~canBatch]
	{
		canBatch = true
	}
}
